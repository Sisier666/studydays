<!DOCTYPE html>
<html>
    <header>
        <ment chatset="utf-8"></ment>
        <meta name="viewport" content="width=device-width,intial-scale=1">
        <title>我的简历</title>
    </header>

    <body>
        <h1>小鱼的前端简历</h1>
        <img src="./img/美 (2).jpg" alt="头像">
        <p>面试官好！我是小鱼。来自广州软件学院，是2025届的毕业生。<br/>
            在校学习的是电子与计算机工程专业，主要是通过编写代码来对硬件设备进行调试与控制。
        </p>
        <button onclick="sayHi()">点击</button>

        <p id="clock"></p>

        <!-- 天气API -->
         <p id="weather">正在获取天气...</p>

        
        <input id="todoText" placeholder="输入待办"/>
        <button onclick="addTodo()">添加</button>
        <!-- 列表容器 -->
        <ul id="todoList"></ul>

    </body>

    <script>
        function sayHi(){
            alert("您好，我是小鱼。");
        }
        // 实现时钟
        function showTime(){
            const now = new Date().toLocaleString('zh-CN');
            document.getElementById('clock').innerText = '现在时间：' + now;
        }
        showTime();
        setInterval(showTime, 1000);  // 每秒更新

        function addTodo(){
            //.trim() 去掉前后空格，防止用户只打空格
            const text = document.getElementById('todoText').value.trim();
            if(!text) return;
            const li = document.createElement('li');
            li.textContent = text;

            document.getElementById('todoList').appendChild(li);
            document.getElementById('todoText').value = '';     // 清空输入框
        }

        // 实时天气：发请求 → 等数据 → 转对象 → 取字段 → 塞页面
        // async 声明“异步函数”，因为网络请求要等服务器响应
        async function fetchWeather() {
            try {
                // 免费天气API
                const url = 'https://api.open-meteo.com/v1/forecast?latitude=23.13&longitude=113.26&current_weather=true';
                const res = await fetch(url);     // await 让代码“停”在这里，等服务器把数据送回来再继续
                const data = await res.json();    // 返回的是 JSON 字符串,.json() 把它转成 JavaScript 对象，方便我们点属性取值
                const now = data.current_weather;
                document.getElementById('weather').innerText = `深圳 当前 ${now.temperature}℃ 风速 ${now.windspeed} km/h`;
            } catch(e) {
                document.getElementById('weather').innerText = '天气获取失败';
            }
        }
        fetchWeather();
    </script>

    <style>
        h1{
            color: #007;
            text-align: center;
        }
        body{
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            text-align: center;

            font-family: Arial,sans-serif;
        }
        img{
            width: 120px;
            border-radius: 50%;
        }
    </style>
</html>